{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}


{% block title %}
  <title>List of books</title>
{% endblock title %}


{% block content %}
  <div class="col-md-12">
  
    <form method="GET">
      {{ filter.form|crispy }}
      <button type="submit" class="btn btn-dark">Search</button>
    </form>
    
    <br>
    <ul>
      {% for book in filter.qs %}
        <li class="pb-3">
          {{ book.authors.all|join:', ' }},
          <i>{{ book.title }}</i>,
          {{ book.pub_date|slice:':4' }},
          pp. {{ book.pages }}&ensp;
          [{{ book.language }}, ISBN-{{ book.isbn }}]
          <br>
          {% if book.cover_url %}
            Cover: <a href="{{ book.cover_url }}">{{ book.cover_url }}</a>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
    
  </div>
{% endblock content %}
